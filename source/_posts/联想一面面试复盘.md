---
layout: p
title: 联想一面面试复盘
date: 2024-04-12 14:51:33
tags: [Java]
---

# 联想一面面经

- 英语自我介绍
- 项目介绍
- 项目用了Nacos，他的配置中心能不能动态更新，怎么动态更新
- Dubbo的默认服务调用方式是什么
- MySQL的索引有哪些
- MySQL的事物是基于什么实现的
- 索引失效的情况有哪些
- 如果有a,b,c三个联合索引，查询条件是a和b，这个查询会不会用到索引，a和c呢
- SpringBoot的LOC了解吗
- 提到了SPI，SpringBoot配置创建是怎么实现的
- Spring怎么切换Bean的创建方式
- Etcd中间件和Zookeeper有什么优缺点
- 能不能通过RabbitMQ去拿取指定的数据
- 反问

## 项目用了Nacos，他的配置中心能不能动态更新，怎么动态更新

Nacos的配置中心是支持动态更新的，当配置中心的配置发生变化时，Nacos会主动推送配置变更到客户端，客户端会实时更新配置。

**如何使用**

- 通过RefreshScope接口实现
- 通过ConfigListener接口实现
- 通过@NacosPropertySource注解实现

## Dubbo的默认服务调用方式是什么

（这个问题指的是同步还是异步调用）
Dubbo的默认服务调用方式是同步调用，即服务提供者和消费者之间是一对一的关系，消费者调用服务提供者的服务时，会阻塞等待服务提供者的响应。

（怎么理解成成多个服务提供者的均衡负载之类的问题了）

## MySQL的索引有哪些

MySQL的索引按照应用维度划分主要有以下几种：
- 主键索引：加速查询 + 列值唯一（不可以有 NULL）+ 表中只有一个。
- 普通索引：仅加速查询。唯一索引：加速查询 + 列值唯一（可以有 NULL）。
- 覆盖索引：一个索引包含（或者说覆盖）所有需要查询的字段的值。
- 联合索引：多列值组成一个索引，专门用于组合搜索，其效率大于索引合并。
- 全文索引：对文本的内容进行分词，进行搜索。目前只有 CHAR、VARCHAR ，TEXT 列上可以创建全文索引。一般不会使用，效率较低，通常使用搜索引擎如 ElasticSearch 代替。

## 如果有a,b,c 组合为联合索引，查询条件是a和b，这个查询会不会用到索引，a和c呢

- 查询条件是a和b，这个查询会使用到联合索引a,b,c。
- 查询条件是a和c，这个查询不会使用到联合索引a,b,c。

联合索引的使用基于**最左前缀原则**，即查询条件必须是联合索引的最左边的列的子列，才能使用到联合索引。
如(a,b),查询条件是a和b，会使用到索引；查询条件是b，不会使用到索引。

# 提到了SPI，SpringBoot配置创建是怎么实现的

SPI（Service Provider Interface）是Java提供的一种服务发现机制，主要用于在模块化开发中，为模块提供扩展点。

SpringBoot的配置创建是通过SPI机制实现的，SpringBoot提供了`spring.factories`文件，用于配置SpringBoot的自动配置类，SpringBoot在启动时会扫描`spring.factories`文件，加载配置类，实现自动配置。


## Spring怎么切换Bean的创建方式

Spring切换Bean的创建方式主要有两种：
- XML配置文件
- 注解

**XML配置文件**

```xml
<bean id="user" class="com.example.User" scope="prototype" />
```

**使用Scope注解**

```java
@Component
@Scope("prototype")
public class User {
    // ...
}
```

## Etcd做服务发现中间件和Zookeeper比有什么优缺点

Etcd和Zookeeper都是服务发现中间件，主要用于服务注册、服务发现、服务配置等。

Etcd更简单，更轻量，更适合小型项目，而Zookeeper更适合大型项目，因为Zookeeper的数据是存储在磁盘上的，可以存储大量的数据。

## 能不能通过RabbitMQ去拿取指定的数据，例如拿取时间为2024-04-12的数据

RabbitMQ是消息队列中间件，主要用于消息的生产和消费，不支持直接查询数据。




